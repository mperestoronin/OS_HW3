# OS_HW3
Выполнил ***Пересторонин Максим Дмитриевич БПИ 217 на оценку 8***
<br>Вариант 15

Задача:
<br>На клумбе растет 40 цветов, за ними непрерывно следят два процесса–садовника и поливают увядшие цветы, при этом оба садовника очень боятся полить один и тот же
цветок, который еще не начал вянуть. Создать приложение,
моделирующее состояния цветков на клумбе и действия
садовников. Сервер используется для изменения состояния цветов, каждый садовник — отдельный клиент.

### Структура отчета
В репозитории есть 3 основые папки:
* Работа на 4 - 5 баллов
* Работа на 6 - 7 баллов
* Работа на 8 баллов
Каждая папка содержит .с файлы с кодом соответсвующей программы, а также readme.md файл, содержащий краткое описание работы программы, а также фотоотчет в самом низу. На фотоотчете видно результаты работы программы.
## Описание выполненной работы:
### Введение
Данный отчет представляет собой подробное описание разработанной модели клиент-серверного приложения, включающего функциональность наблюдателя. Модель реализует систему, состоящую из цветочной клумбы, двух садовников (клиентов) и сервера, отслеживающего состояние клумбы. Каждый садовник независимо от другого поливает жаждущие цветы на клумбе, при этом несколько садовников не могут поливать один и тот же цветок одновременно. Дополнительно, был введен функционал наблюдателя, который отслеживает и выводит информацию о действиях садовников.

### Используемые инструменты
Язык программирования C: Использовался для написания кода сервера, клиентов и наблюдателя.

Linux: Операционная система, на которой была проведена разработка и тестирование кода.

GCC: Использовался для компиляции исходного кода на C.

POSIX Threads (pthread): Использовались для реализации многопоточности на сервере и обеспечения одновременного обслуживания нескольких клиентов и наблюдателей.

TCP/IP: Использовался для реализации сетевого взаимодействия между сервером, клиентами и наблюдателями.

Сокеты: Использовались для реализации низкоуровневого сетевого взаимодействия в рамках протокола TCP/IP.

### Подробное описание работы приложения
Сервер создает цветочную клумбу, состоящую из 40 цветов. Каждый цветок может находиться в одном из трех состояний: хочет быть политым, поливающийся или уже политый. Кроме того, для каждого цветка создается мьютекс, который обеспечивает его блокировку во время полива, предотвращая таким образом одновременный полив одного и того же цветка двумя садовниками.

Садовники (клиенты) подключаются к серверу и начинают процесс полива. Каждый садовник запрашивает у сервера индекс цветка для полива. Если есть жаждущий цветок, сервер блокирует его (устанавливает состояние "поливается") и отправляет индекс этого цветка садовнику. Затем садовник поливает цветок (эмулируется задержкой), уведомляет сервер о завершении полива и получает следующий цветок для полива.

Наблюдатель подключается к серверу и начинает отслеживать все действия садовников. Когда садовник завершает полив цветка, сервер отправляет уведомление наблюдателю, который выводит эту информацию на консоль.

Сервер поддерживает подключение нескольких наблюдателей. Для каждого нового наблюдателя сервер создает отдельный поток и устанавливает соединение, позволяя им независимо следить за процессом полива.

Для работы приложения на разных компьютерах необходимо указать IP-адрес и порт сервера при подключении клиентов и наблюдателей. IP-адрес можно получить, выполнив команду ip addr show в терминале Linux.

### Выводы
Разработанная система представляет собой полноценное многопоточное клиент-серверное приложение, поддерживающее взаимодействие нескольких клиентов и наблюдателей с сервером. Применение мьютексов обеспечивает корректную работу приложения в условиях конкурентного доступа к общим ресурсам.

Если у вас есть вопрос, пожалуйста напишите @Maxim_Perestoronin в телеграмм или mdperestoronin@edu.hse.ru на почту.
